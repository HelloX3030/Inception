server {
    listen 443 ssl;
    server_name monitor.lseeger.42.fr;

    ssl_certificate     /etc/nginx/certs/lseeger.42.fr.crt;
    ssl_certificate_key /etc/nginx/certs/lseeger.42.fr.key;

    # Exact root path: stub_status
    location = / {
        auth_basic "Monitoring";
        auth_basic_user_file /etc/nginx/auth/monitor.htpasswd;

        stub_status;

        access_log off;
    }

    # Explicitly handle favicon to avoid 403
    location = /favicon.ico {
        return 204;
        access_log off;
    }

    # Block everything else
    location / {
        return 403;
    }
}
